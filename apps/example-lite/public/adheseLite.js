var AdheseLite=function(e){"use strict";function t(e){const t=document.createElement("img");return t.src=e.toString(),t.style.height="1px",t.style.width="1px",t.style.margin="-1px",t.style.border="0",t.style.position="absolute",t.style.top="0",document.body.appendChild(t)}function n(e,t,n){let r=e.length-t.length;if(0===r)return e(...t);if(1===r)return function(e,t,n){let r=n=>e(n,...t);return void 0===n?r:Object.assign(r,{lazy:n,lazyArgs:t})}(e,t,n);throw new Error("Wrong number of arguments")}function r(...e){return n(o,e)}function o(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}const i={iframe:function(e,t){const n=document.createElement("iframe");n.srcdoc=`\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <style>\n            body {\n              margin: 0;\n              padding: 0;\n              overflow: hidden;\n            }\n          </style>\n        </head>\n        <body>\n          ${String(e.tag)}\n        </body>\n      `.replaceAll(/\s+/g," ").trim(),n.style.border="none",n.style.width="number"==typeof e.width?`${e.width}px`:e.width??"auto",n.style.height="number"==typeof e.height?`${e.height}px`:e.height??"auto",t.replaceChildren(n)},inline:function(e,t){t.innerHTML=String(e.tag)}};return e.createSlot=function(e){var o;const s=(a=e.location,l=e.format,`${a}${(c=e.slot)?`${c}`:""}-${l}`);var a,l,c;const d=new Set,u=new IntersectionObserver((function([e]){e.isIntersecting&&(y.render().catch(console.error),null==u||u.disconnect())}),{rootMargin:"200px",threshold:0}),m=new IntersectionObserver((function([e]){const r=function(...e){return n((t=Math.round,(e,n)=>{if(0===n)return t(e);if(!Number.isInteger(n))throw new TypeError(`precision must be an integer: ${n}`);if(n>15||n<-15)throw new RangeError("precision must be between -15 and 15");if(Number.isNaN(e)||!Number.isFinite(e))return t(e);let r=10**n;return t(e*r)/r}),e);var t}(e.intersectionRatio,1);r>=.2&&!w?w=setTimeout((()=>{var e,n;w=null,m.disconnect(),(null==(e=y.data)?void 0:e.viewableImpressionCounter)&&d.add(t(null==(n=y.data)?void 0:n.viewableImpressionCounter))}),1e3):r<.2&&w&&(clearTimeout(w),w=null)}),{rootMargin:"0px",threshold:Array.from({length:11},((e,t)=>.1*t))}),h="string"==typeof e.consent?{xt:e.consent}:{tl:e.consent?"all":"none"},f={...e.parameters,...h};let g=!1;const p=e.containingElement??document.createElement("div");e.containingElement||(p.id=`${s}:${function(e=21){let t=e,n="";const r=crypto.getRandomValues(new Uint8Array(e));for(;t--;)n+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[t]];return n}(3)}`,p.classList.add("adunit"),p.dataset.format=e.format,p.dataset.slot=e.format,p.dataset.location=e.location,null==(o=document.currentScript)||o.insertAdjacentElement("beforebegin",p));const y={options:e,name:s,parameters:f,element:p,async request(){var t;const n=await fetch(`${e.host??`https://ads-${e.account}.adhese.com`}/json`,{method:"POST",body:JSON.stringify({slots:[{slotname:s}],parameters:f}),headers:{"Content-Type":"application/json"}});if(!n.ok)throw new Error(`Failed to request ad for slot ${s}. Status: ${n.status}`);const[r]=await n.json();return this.data=r,null==(t=e.onRequest)||t.call(e,this),r},async render(){var n,o;const s=this.data??await this.request();if(p.removeEventListener("click",b),!s)return null==(n=e.onEmpty)||n.call(e,this),p;if("string"!=typeof s.tag)throw new Error("Received invalid ad data, tag is not a string");return i[e.renderMode??"iframe"]({...s,...r(e,["width","height"])},p),null==(o=e.onRender)||o.call(e,this),s.impressionCounter&&!g&&(d.add(t(s.impressionCounter)),g=!0),s.viewableImpressionCounter&&m.observe(p),p.addEventListener("click",b),p},dispose(){var t;null==(t=e.onDispose)||t.call(e,this),p.innerHTML="";for(const e of d)e.remove();d.clear(),null==u||u.disconnect(),m.disconnect(),p.removeEventListener("click",b)}};let v=!1;function b(){e.clickTrackerUrl&&!v&&(d.add(t(e.clickTrackerUrl)),v=!0)}let w=null;return u.observe(p),y},e.version="1.2.0",Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),e}({});
